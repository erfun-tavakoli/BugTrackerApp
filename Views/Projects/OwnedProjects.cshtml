@model List<BugTrackerApp.Models.Project>

<h2>Owned Projects</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
@if (Model.Count == 0)
{
    <h3>
        No Projects found
    </h3>
}
else
{

    <ol>
        @foreach (var item in Model)
        {
            <li>
                <p>
                    <em>
                        Name : @item.Name
                    </em>
                </p>
                <p>
                    <b>
                        Tickets
                    </b>
                </p>
                <ol>
                    @foreach (var ticket in item.Tickets)
                    {
                    <li>
                        <p>
                            Title : @ticket.Title
                        </p>
                        <p>
                            Description : @ticket.Description
                        </p>
                        <p>
                            Owner : @if (ticket.OwnerUser != null)
                            {
                                <span>@ticket.OwnerUser.Email</span>
                            }
                            else
                            {
                                <span>no user ownes this project</span>
                            }
                        </p>
                        <p>
                            Assignend user : @if (ticket.AssignedToUser != null)
                            {
                                <span>@ticket.AssignedToUser.Email</span>
                            }
                            else
                            {
                                <span>no user is assigned to whis project</span>
                            }
                        </p>
                    </li>
                    }
                </ol>
            </li>
        }
    </ol>
}
@{
    ViewBag.Title = "OwnedProjects";
}

<h2>OwnedProjects</h2>

